CREATE DATABASE PayItForward;
USE PayItForward

CREATE TABLE Categories (
id INT AUTO_INCREMENT NOT NULL,
name VARCHAR(150) NOT NULL UNIQUE,
PRIMARY KEY(id)
);

CREATE TABLE City (
id INT AUTO_INCREMENT NOT NULL,
name VARCHAR(150) NOT NULL UNIQUE,
PRIMARY KEY(id)
);

CREATE TABLE Helpers (
id INT AUTO_INCREMENT NOT NULL,
login VARCHAR(150) NOT NULL UNIQUE,
password VARCHAR(50) NOT NULL,
email VARCHAR(150) NOT NULL UNIQUE,
city_id INT NOT NULL,
PRIMARY KEY(id),
FOREIGN KEY(city_id) REFERENCES City(id) ON DELETE CASCADE
);

CREATE TABLE Items (
id INT AUTO_INCREMENT NOT NULL,
name VARCHAR(150) NOT NULL,
city_id INT NOT NULL,
description TEXT,
needed_id INT NOT NULL,
helper_id INT, 

PRIMARY KEY(id),
FOREIGN KEY(city_id) REFERENCES City(id) ON DELETE CASCADE,
FOREIGN KEY(needed_id) REFERENCES Helpers(id) ON DELETE CASCADE,
FOREIGN KEY(helper_id) REFERENCES Helpers(id) ON DELETE CASCADE
);

